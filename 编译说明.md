# AutoDaily 编译说明

## 环境要求

- **操作系统**: Windows 7/10/11
- **开发工具**: 
  - Visual Studio 2017 或更高版本（推荐）
  - 或 .NET Framework 4.7.2 SDK + MSBuild

## 编译方法

### 方法一：使用 Visual Studio（推荐）

1. 打开 Visual Studio
2. 选择 `文件` → `打开` → `项目/解决方案`
3. 选择 `AutoDaily.sln`
4. 在解决方案资源管理器中右键点击 `AutoDaily` 项目
5. 选择 `生成` → `生成解决方案` (或按 `Ctrl+Shift+B`)
6. 编译完成后，可执行文件位于：`AutoDaily\bin\Release\AutoDaily.exe`

### 方法二：使用命令行（MSBuild）

打开 **开发者命令提示符** 或 **PowerShell**，执行：

```powershell
# 进入项目目录
cd "C:\path\to\日报通"

# 编译 Release 版本
msbuild AutoDaily.sln /p:Configuration=Release /p:Platform="Any CPU"

# 编译 Debug 版本
msbuild AutoDaily.sln /p:Configuration=Debug /p:Platform="Any CPU"
```

编译完成后，可执行文件位于：
- Release: `AutoDaily\bin\Release\AutoDaily.exe`
- Debug: `AutoDaily\bin\Debug\AutoDaily.exe`

### 方法三：使用 .NET CLI（如果安装了 .NET SDK）

```bash
# 注意：.NET Framework 项目可能需要特殊处理
dotnet build AutoDaily.sln -c Release
```

## 验证编译结果

编译成功后，检查：
1. `AutoDaily.exe` 文件是否存在
2. 文件大小应该 < 2MB（符合零依赖要求）
3. 双击运行测试功能

## 常见问题

### 问题1：找不到 .NET Framework 4.7.2

**解决方案**：
- 下载并安装 [.NET Framework 4.7.2 Developer Pack](https://dotnet.microsoft.com/download/dotnet-framework/net472)
- 或在 Visual Studio Installer 中安装对应的工作负载

### 问题2：缺少 System.Web.Extensions 引用

**解决方案**：
- 确保项目文件中已包含 `<Reference Include="System.Web.Extensions" />`
- 如果仍有问题，在 Visual Studio 中右键项目 → `添加` → `引用` → 选择 `System.Web.Extensions`

### 问题3：编译错误：找不到命名空间

**解决方案**：
- 检查所有 `.cs` 文件的命名空间是否正确
- 确保项目结构完整
- 清理并重新生成：`生成` → `清理解决方案`，然后 `生成` → `重新生成解决方案`

## 发布单文件

如果需要发布为单文件（不依赖 .NET Framework 运行时），需要使用：
- .NET 5/6/7/8（需要迁移项目）
- 或使用 ILMerge 等工具合并依赖

**注意**：当前项目基于 .NET Framework，需要系统安装对应运行时。

